!function(e,n){var t={};!function(){var e=document.getElementsByTagName("script"),n=e[e.length-1];if(n){var r,o=n.attributes;for(i=0,len=o.length;i<len;i++)/data-(\w+)$/.test(o[i].nodeName)&&(r=o[i].nodeValue,"false"===r&&(r=!1),t[RegExp.$1]=r)}}();var r=function(){var e=n(),r=e(t);return r.factory=e,r};"function"==typeof define&&define.amd?define([],r):"object"==typeof module&&module.exports?module.exports=r():e.Honeybadger=r()}(this,function(){function e(e,n){var t={};for(k in e)t[k]=e[k];for(k in n)t[k]=n[k];return t}function n(e){return c?c.name!==e.name?!1:c.message!==e.message?!1:c.stack!==e.stack?!1:!0:!1}function t(){var e={};return e.HTTP_USER_AGENT=navigator.userAgent,document.referrer.match(/\S/)&&(e.HTTP_REFERER=document.referrer),e}function r(e){if("object"!=typeof e)return void 0;var n=[];for(k in e)n.push(k+"="+e[k]);return n.join(";")}function o(e){return e.stacktrace||e.stack||void 0}function i(e){var n,t=10;if(e&&(n=o(e)))return{stack:n,generator:void 0};try{throw new Error("")}catch(r){if(n=o(r))return{stack:n,generator:"throw"}}n=["<call-stack>"];for(var i=arguments.callee;i&&n.length<t;){n.push(/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?RegExp.$1||"<anonymous>":"<anonymous>");try{i=i.caller}catch(r){break}}return{stack:n.join("\n"),generator:"walk"}}function a(e,n){var t,r,o;for(r=0,o=e.length;o>r;r++)if(t=e[r],t(n)===!1)return!0;return!1}var c,u,s="0.4.3",f={name:"honeybadger.js",url:"https://github.com/honeybadger-io/honeybadger-js",version:s,language:"javascript"},d=!1,l=!1,p=function(p){function g(e){m("debug")&&this.console&&console.log(e)}function m(e,n){var t;return void 0!==O[e]&&(t=O[e]),"false"===t&&(t=!1),void 0!==t?t:n}function h(){return"http"+(m("ssl",!0)&&"s"||"")+"://"+m("host","api.honeybadger.io")}function v(e,n,t){var r,o,i,a;if(i=[],t||(t=0),t>=m("max_depth",8))return encodeURIComponent(n)+"=[MAX DEPTH REACHED]";for(r in e)a=e[r],a instanceof Function&&(a="[FUNC]"),e.hasOwnProperty(r)&&null!=r&&null!=a&&(o=n?n+"["+r+"]":r,i.push("object"==typeof a?v(a,o,t+1):encodeURIComponent(o)+"="+encodeURIComponent(a)));return i.join("&")}function y(e){try{return x=new(this.XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0"),x.open("GET",e,!0),void x.send()}catch(n){g("Error encountered during XHR request (will retry): "+n)}img=new Image,img.src=e}function w(e){return c=u=null,m("api_key")?(url=h()+"/v1/notices/js.gif?"+v({notice:e})+"&api_key="+m("api_key")+"&t="+(new Date).getTime(),y(url),!0):(g("Unable to send error report: no API key has been configured."),!1)}function b(i,s){if(m("disabled",!1))return!1;if(!(i instanceof Object))return!1;if(i instanceof Error){var l=i;i={name:l.name,message:l.message,stack:o(l)}}if(n(i))return!1;if(u&&d&&w(u),0===function(){var e,n;n=[];for(e in i)({}).hasOwnProperty.call(i,e)&&n.push(e);return n}().length)return!1;if(s&&(i=e(i,s)),a(O.beforeNotifyHandlers,i))return!1;var p=t();"string"==typeof i.cookies?p.HTTP_COOKIE=i.cookies:"object"==typeof i.cookies&&(p.HTTP_COOKIE=r(i.cookies));var h={notifier:f,error:{"class":i.name||"Error",message:i.message,backtrace:i.stack,generator:i.generator,fingerprint:i.fingerprint},request:{url:i.url||document.URL,component:i.component||m("component"),action:i.action||m("action"),context:e(O.context,i.context),cgi_data:p,params:i.params},server:{project_root:i.project_root||m("project_root",window.location.protocol+"//"+window.location.host),environment_name:i.environment||m("environment")}};return u=h,c=i,d?(g("Defering notice.",i,h),window.setTimeout(function(){n(i)&&w(h)})):(g("Queuing notice.",i,h),_.push(h)),i}function E(e,n){try{return"function"!=typeof e?e:(e.___hb||(e.___hb=function(){var t=m("onerror",!0);if(!(R&&(t||n)||n&&!t))return e.apply(this,arguments);try{return e.apply(this,arguments)}catch(r){throw b(r),r}}),e.___hb)}catch(t){return e}}function T(e,n,t){if(!l&&e&&n&&t){var r=e[n];e[n]=t(r)}}var j=[],_=[],O={context:{},beforeNotifyHandlers:[]};if(p instanceof Object)for(k in p)O[k]=p[k];var R=!0;if(window.atob||(R=!1),window.ErrorEvent)try{0===new window.ErrorEvent("").colno&&(R=!1)}catch(H){}O.notify=function(n,t,r){if(n||(n={}),n instanceof Error){var a=n;n={name:a.name,message:a.message,stack:o(a)}}if(!(n instanceof Object)){var c=String(n);n={message:c}}if(t&&!(t instanceof Object)){var u=String(t);t={name:u}}return t&&(n=e(n,t)),r instanceof Object&&(n=e(n,r)),b(n,i(n))},O.wrap=function(e){return E(e,!0)},O.setContext=function(n){return n instanceof Object&&(O.context=e(O.context,n)),O},O.resetContext=function(n){return O.context=n instanceof Object?e({},n):{},O},O.configure=function(e){for(k in e)O[k]=e[k];return O},O.beforeNotify=function(e){return O.beforeNotifyHandlers.push(e),O};var C=[].indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(n in this&&this[n]===e)return n;return-1};O.reset=function(){O.context={},O.beforeNotifyHandlers=[];for(k in O)-1==C.call(j,k)&&(O[k]=void 0);return O},O.getVersion=function(){return s};var L=function(e){return function(n,t){if(n instanceof Function){var r=Array.prototype.slice.call(arguments,2);return n=E(n),e(function(){n.apply(null,r)},t)}return e(n,t)}};T(window,"setTimeout",L),T(window,"setInterval",L),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(e){prototype=window[e]&&window[e].prototype,prototype&&prototype.hasOwnProperty&&prototype.hasOwnProperty("addEventListener")&&(T(prototype,"addEventListener",function(e){return function(n,t,r,o){try{t&&null!=t.handleEvent&&(t.handleEvent=E(t.handleEvent))}catch(i){g(i)}return e.call(this,n,E(t),r,o)}}),T(prototype,"removeEventListener",function(e){return function(n,t,r,o){return e.call(this,n,t,r,o),e.call(this,n,E(t),r,o)}}))}),T(window,"onerror",function(e){function n(e,n,t,r,o){if(!c&&m("onerror",!0)){if(0===t&&/Script error\.?/.test(e))return void g("Ignoring cross-domain script error. Use CORS to enable tracking of these types of errors.");if(g("Error caught by window.onerror"),o)return void b(o);stack=[e,"\n    at ? (",n||"unknown",":",t||0,":",r||0,")"].join(""),b({name:"window.onerror",message:e,stack:stack})}}return function(t,r,o,i,a){return n(t,r,o,i,a),e instanceof Function?e.apply(this,arguments):!1}}),l=!0;for(k in O)j.push(k);if(g("Initializing honeybadger.js "+s),/complete|interactive|loaded/.test(document.readyState))d=!0,g("honeybadger.js "+s+" ready");else{g("Installing ready handler");var I=function(){for(d=!0,g("honeybadger.js "+s+" ready");notice=_.pop();)w(notice)};document.addEventListener?document.addEventListener("DOMContentLoaded",I,!0):window.attachEvent("onload",I)}return O};return p});
//# sourceMappingURL=//js.honeybadger.io/v0.4/honeybadger.min.js.map